var nest;!function(t){var n;!function(n){function e(e){for(var u=["user","iap","share","social","app"],r=0;r<u.length;r++){var l=u[r];if(t[e]&&t[e][l]&&(t[l]=t[e][l],n.$DEBUG_LOG))for(var o in t[l]){var s=t[l][o];"function"==typeof s&&i(l,o)}}}function i(n,e){var i,u=t[n][e];i="isSupport"==e?function(t){console.log("[Nest]调用接口nest."+n+"."+e);var i=function(i){console.log("[Nest]获得nest."+n+"."+e+"接口返回 : "+JSON.stringify(i)),t.call(null,i)};u.call(null,i)}:function(t,i){console.log("[Nest]调用接口nest."+n+"."+e);var r=function(t){console.log("[Nest]获得nest."+n+"."+e+"接口返回 : "+JSON.stringify(t)),i.call(null,t)};u.call(null,t,r)},t[n][e]=i}function u(){return void 0==n.$spid&&(n.$spid=parseInt(s("egret.runtime.spid"))),n.$spid}function r(){return void 0==a&&(a=s("channelTag")),a}function l(){return void 0==c&&(c=o(9392)),c}function o(t){return u()==t}function s(t){if(window.location){var n=location.search;if(""==n)return"";n=n.slice(1);for(var e=n.split("&"),i=e.length,u=0;i>u;u++){var r=e[u],l=r.split("=");if(l[0]==t)return l[1]}}return""}n.$DEBUG_LOG=!1,n.$changeMethod=e,n.$getSpid=u;var a;n.$getChannelTag=r;var c;n.$isQQBrowser=l,n.$isTargetPlatform=o,n.$getOption=s}(n=t.utils||(t.utils={}))}(nest||(nest={}));var nest;!function(t){var n;!function(n){n.uid=void 0;var e;!function(n){function e(n){var e=[];t.utils.$isQQBrowser()&&(e.push("qq"),e.push("wx"));var i={result:0,loginType:e,getInfo:0};n.call(null,i)}function i(n,e){var i=function(n){t.h5.uid=n.id;var i=n.status;t.h5.uid&&(i=0);var u={result:i,token:n.token};e.call(null,u)};EgretH5Sdk.checkLogin(i,null)}function u(n,e){var i=function(n){t.h5.uid=n.id;var i=n.status;t.h5.uid&&(i=0);var u={result:i,token:n.token};e.call(null,u)};EgretH5Sdk.login(i,null,n.loginType)}function r(t,n){var e=function(t){var e=t.status,i=1==e?0:1;n.call(null,{result:i})};EgretH5Sdk.logout(e,null)}n.isSupport=e,n.checkLogin=i,n.login=u,n.logout=r}(e=n.user||(n.user={}));var i;!function(n){function e(n,e){t.h5.uid&&(n.appId=t.utils.$APP_ID,n.uId=t.h5.uid,EgretH5Sdk.pay(n,function(t){e(t)},this))}n.pay=e}(i=n.iap||(n.iap={}));var u;!function(n){function e(n){var e=function(t){var e=t.status,i={share:e};n.call(null,i)};EgretH5Sdk.isOpenShare(t.utils.$APP_ID,t.h5.uid,e,null)}function i(n,e){var i=function(t){var n=t.status;0==n?n=-1:1==n&&(n=0);var i={status:n,result:n};e.call(null,i)};EgretH5Sdk.share(t.utils.$APP_ID,t.h5.uid,n,i,null)}n.isSupport=e,n.share=i}(u=n.share||(n.share={}));var r;!function(t){function n(t){t.call(null,{result:0,getFriends:0,openBBS:0})}function e(t,n){}function i(t,n){}t.isSupport=n,t.getFriends=e,t.openBBS=i}(r=n.social||(n.social={}));var l;!function(n){function e(n){var e=function(t){var e=t.status,i={attention:e};n.call(null,i)};EgretH5Sdk.isOpenAttention(t.utils.$APP_ID,t.h5.uid,e,null)}function i(n,e){EgretH5Sdk.attention(t.utils.$APP_ID,t.h5.uid),e.call(null,{result:0})}function u(t,n){n.call(null,{result:-1})}function r(n,e){var i=function(t){var n={result:0,contact:t.contact};e.call(null,n)};EgretH5Sdk.getCustomInfo(t.utils.$APP_ID,t.h5.uid,i,null)}n.isSupport=e,n.attention=i,n.sendToDesktop=u,n.getInfo=r}(l=n.app||(n.app={}))}(n=t.h5||(t.h5={}))}(nest||(nest={}));var nest;!function(t){var n;!function(n){var e;!function(n){function e(n){var e=[];t.utils.$isQQBrowser()&&(e.push("qq"),e.push("wx"));var i={result:0,loginType:e,getInfo:0};n.call(null,i)}function i(t,n){EgretH5Sdk.checkLogin(t,n)}function u(t,n){EgretH5Sdk.login(t,n)}function r(t,n){EgretH5Sdk.logout(t,n)}function l(t,n){n.call(null,{result:-2})}n.isSupport=e,n.checkLogin=i,n.login=u,n.logout=r,n.getInfo=l}(e=n.user||(n.user={}));var i;!function(t){function n(t,n){EgretH5Sdk.pay(t,n)}t.pay=n}(i=n.iap||(n.iap={}));var u;!function(t){function n(t){var n=function(n){var e=n.result,i={share:e,msg:n.msg};t.call(null,i)};EgretH5Sdk.isSupportShare({},n)}function e(t,n){t.imgUrl=t.img_url,EgretH5Sdk.setShareDefaultData(t,n)}function i(t,n){t.imgUrl=t.img_url,EgretH5Sdk.share(t,n)}t.isSupport=n,t.setDefaultData=e,t.share=i}(u=n.share||(n.share={}));var r;!function(t){function n(t){t.call(null,{result:0,getFriends:0,openBBS:0})}function e(t,n){n.call(null,{result:-2})}function i(t,n){n.call(null,{result:-2})}t.isSupport=n,t.getFriends=e,t.openBBS=i}(r=n.social||(n.social={}));var l;!function(t){function n(t){var n=function(n){var e=n.result,i={attention:e,getInfo:1,exitGame:0,sendToDesktop:0};t.call(null,i)};EgretH5Sdk.isSupportAttention({},n)}function e(t,n){EgretH5Sdk.attention({},n)}function i(t,n){n.call(null,{result:-2})}function u(t,n){n.call(null,{result:-2})}function r(t,n){EgretH5Sdk.getCustomInfo({},n)}t.isSupport=n,t.attention=e,t.sendToDesktop=i,t.exitGame=u,t.getInfo=r}(l=n.app||(n.app={}))}(n=t.h5_2||(t.h5_2={}))}(nest||(nest={})),nest.core=nest.core||{},nest.core.startup=function(t,n){var e="http://api.egret-labs.org/v2/";nest.utils.$API_DOMAIN=e,nest.utils.$APP_ID=t.egretAppId,nest.utils.$DEBUG_LOG=t.debug;var i=nest.utils.$getOption("egretSdkDomain");if(i&&(nest.utils.$API_DOMAIN=i+"/"),2==t.version){nest.utils.$changeMethod("h5_2");var u=nest.utils.$API_DOMAIN+"misc/scripts/egreth5sdk.js",r=document.createElement("script");return r.hasOwnProperty("async")&&(r.async=!1),r.src=u,r.id="egreth5sdk",r.addEventListener("load",function(){this.removeEventListener("load",arguments.callee,!1),EgretH5Sdk.init({},n)},!1),r.addEventListener("error",function(){r.parentNode.removeChild(r),this.removeEventListener("error",arguments.callee,!1),n({result:-2})},!1),void document.head.appendChild(r)}nest.utils.$changeMethod("h5"),n({result:0})};